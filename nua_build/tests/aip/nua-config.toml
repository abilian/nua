[metadata]
id = "aipress24-flask"
version = "0.1.0"
title = "aipress24"
author = "Stefane Fermigier <sf@abilian.com>"
tagline = "aipress24"
website = "https://nua.rocks/"
tags = ["test", "aipress24"]
licence = "see later"
profile = ["test"]
release = 1

[build]
# optional manifest.
# if no manifest, use files in the repository (except dot files)
# - if manifest is not empty, *only* files from manifest are copied
# - "nua-config.toml" is always copied, wether local or not
# manifest = [
# # if no Dockerfile provided => use Nua default Dockerfile:
# "Dockerfile",
# "www",
# "build.py"
# ]

# src_url = "https://github.com/moinwiki/moin/archive/refs/heads/master.tar.gz"
# src_git = "https://github.com/moinwiki/moin.git"

# optional folder containing nua build files if present:
# nua_dir = "nua"  # default to "nua"
# optional Dockerfile, default is "{nua_dir}/Dockerfile" or "./Dockerfile" if found
# optional build script, default is "{nua_dir}/build.py" or "./build.py" if found
# build_script = ""
# optional start script, default is "{nua_dir}/start.py" or "./start.py" if found
# start_script = ""
# container = "docker"  # default
# document_root = "/nua/app/html"

[instance]
# instance contains values suited to be changed at deploy time for
# multi-instance deployment. Values here are used by default, i.e. for a single
# deployment of the app

[run]
# parameters passed as a dict to docker run
auto_remove = true
# detach = true mandatory
# mem_limit = "1G"
container_port = 8080

[[volume]]
# The mount type (bind / volume / tmpfs / npipe). Default: volume :
type = "bind"
# Name of the driver used to create the volume: (for type == "volume")
# driver = "local"
# Mount source (e.g. a volume name or a host path):
source = "/var/tmp"
# Container path:
target = "/app/data"
mode = "rw"

[run_env]
# parameters passed as a dict to docker run: environment dict
FLASK_ENV = "production"
FLASK_SECRET_KEY = "secret"
FLASK_SQLALCHEMY_DATABASE_URI = "sqlite:////app/data/db.sqlite3"
FLASK_SQLALCHEMY_TRACK_MODIFICATIONS = false
FLASK_DEMO_PASSWORD = "pour erick"
APP_PORT = 8080
